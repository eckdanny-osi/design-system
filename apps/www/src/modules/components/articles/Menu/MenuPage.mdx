import { CodeBlock, DemoCard, PropTable } from "@cwds/docs";
import { Link } from "react-router-dom";
import Docgen from "../ReactDogenInfo.js";
import {
  Avatar,
  Card,
  CardBody,
  UncontrolledMenu as Menu,
  MenuItem,
  UserMenu,
  UncontrolledUserMenu
} from "@cwds/components";
import {
  MenuExample,
  MenuExampleSrc,
  IconMenuExample,
  IconMenuExampleSrc,
  LinkMenuExample,
  LinkMenuExampleSrc
} from "./examples";

## Synopsis

The `Menu` is an accessible dialog menu for selecting a contextual action.

<DemoCard>
  <div>
    <Menu label="My Menu">
      <MenuItem>Foo</MenuItem>
      <MenuItem>Bar</MenuItem>
      <MenuItem>Quo</MenuItem>
    </Menu>
  </div>
</DemoCard>

```jsx
import { Menu, MenuItem } from "@cwds/components";
```

There are **two** usage methods:

### Default Menu

For relatively broad contexts:

<DemoCard>
  <div>
    <MenuExample />
  </div>
</DemoCard>

<CodeBlock>{MenuExampleSrc}</CodeBlock>

### Icon Menu

For relatively narrow contexts (e.g.; item in a list view):

<DemoCard>
  <Card>
    <CardBody className="d-flex align-items-center justify-content-between">
      <div>Foo</div>
      <IconMenuExample />
    </CardBody>
  </Card>
</DemoCard>

<CodeBlock>{IconMenuExampleSrc}</CodeBlock>

### Links

Props passed to `MenuItem` are passed through, so creating a `Menu` of links is accomplished simply without having to use imperative callback methods. One can use the `tag` prop with any additional props to create simple `anchor` links or client-side routed links (e.g. `Link` components from `react-router-dom`):

<DemoCard>
  <div>
    <LinkMenuExample />
  </div>
</DemoCard>

<CodeBlock>{LinkMenuExampleSrc}</CodeBlock>

### UserMenu

The `UserMenu` is a unique case of the `Menu` component. The `caret`, and `right` props are predetermined (and opaque to the component consumer). There shall be _exactly one_ instance of the `UserMenu` component present on any CARES screen. The `icon` is replaced with an instance of [`Avatar`](/components/avatar) and the `label` prop is used for the accompanying text node.

<DemoCard>
  <div className="text-right p-2 bg-info">
    <UncontrolledUserMenu label="John Smith" avatar={<Avatar text="JS" />}>
      <MenuItem>Foo Action</MenuItem>
      <MenuItem>Bar Action</MenuItem>
      <MenuItem tag="a" href="/logout">
        Logout
      </MenuItem>
    </UncontrolledUserMenu>
  </div>
</DemoCard>

```jsx
<UncontrolledUserMenu label="John Smith" avatar={<Avatar text="JS" />}>
  <MenuItem>Foo Action</MenuItem>
  <MenuItem>Bar Action</MenuItem>
  <MenuItem tag="a" href="/logout">
    Logout
  </MenuItem>
</UncontrolledUserMenu>
```

The provided `Avatar` node must abide by the same rules for _any_ `Avatar` instance (giving priority to images if available, then initials if available, or a generic icon if neither are available). See the <Link to="/components/avatar"><code>Avatar</code> article</Link> for details.

## Props

Below are the props for the `Menu` and `MenuItem` components:

### Menu

<PropTable docgen={Docgen["Menu"]} />

### MenuItem

<PropTable docgen={Docgen["MenuItem"]} />

## Usage Guidelines

- **DO** provide meaningful label when a _default_ `Menu` is required
- **DO** use `IconMenu`s in list views

<!--
### Context

### Accessibility

## Examples
-->

## Related Articles

<!--### Patterns-->

### Components

- [`Select`](/components/select)
